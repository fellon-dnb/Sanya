package com.sanya.client.core.api;

import java.util.List;

/**
 * Интерфейс локального хранилища сообщений.
 * Определяет базовые операции сохранения и выборки сообщений для конкретного получателя.
 *
 * Назначение:
 *  - Обеспечить поддержку оффлайн-сообщений или кэширования истории чата.
 *  - Абстрагировать способ хранения (в памяти, на диске, в базе данных).
 *  - Упростить интеграцию с клиентской логикой и синхронизацией при повторном подключении.
 *
 * Использование:
 *  Может применяться для хранения зашифрованных сообщений (EncryptedDirectMessage)
 *  до их обработки или доставки получателю.
 */
public interface MessageStore {

    /**
     * Сохраняет сообщение, адресованное пользователю.
     *
     * @param recipient идентификатор получателя
     * @param message   объект сообщения (может быть любым типом)
     */
    void save(String recipient, Object message);

    /**
     * Возвращает список сообщений, предназначенных для указанного пользователя.
     *
     * @param recipient идентификатор получателя
     * @return список сохранённых сообщений
     */
    List<Object> retrieve(String recipient);
}
